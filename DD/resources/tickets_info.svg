<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="652px" preserveAspectRatio="none" style="width:1005px;height:652px;" version="1.1" viewBox="0 0 1005 652" width="1005px" zoomAndPan="magnify">
    <defs>
        <filter height="300%" id="f18wngyyvjoswi" width="300%" x="-1" y="-1">
            <feGaussianBlur result="blurOut" stdDeviation="2.0" />
            <feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" />
            <feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3" />
            <feBlend in="SourceGraphic" in2="blurOut3" mode="normal" />
        </filter>
    </defs>
    <g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="81" x="462.75" y="24.5332">Tickets Info</text>
        <rect fill="#FFFFFF" filter="url(#f18wngyyvjoswi)" height="416.9219" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="34" y="129.2188" />
        <rect fill="#FFFFFF" filter="url(#f18wngyyvjoswi)" height="416.9219" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="291" y="129.2188" />
        <rect fill="#FFFFFF" filter="url(#f18wngyyvjoswi)" height="221.4609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="495" y="333.6797" />
        <rect fill="#FFFFFF" filter="url(#f18wngyyvjoswi)" height="121.4063" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="699" y="364.0313" />
        <rect fill="#FFFFFF" filter="url(#f18wngyyvjoswi)" height="60.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="857" y="394.3828" />
        <rect fill="#FFFFFF" filter="url(#f18wngyyvjoswi)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="944.5" y="212.2734" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="39" x2="39" y1="119.2188" y2="564.1406" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="296" x2="296" y1="119.2188" y2="564.1406" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="499.5" x2="499.5" y1="119.2188" y2="564.1406" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="704" x2="704" y1="119.2188" y2="564.1406" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="861.5" x2="861.5" y1="119.2188" y2="564.1406" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="949.5" x2="949.5" y1="119.2188" y2="564.1406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="8" y="116.1426">Authority</text>
        <ellipse cx="39" cy="44.6094" fill="#FEFECE" filter="url(#f18wngyyvjoswi)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;" />
        <path d="M39,52.6094 L39,79.6094 M26,60.6094 L52,60.6094 M39,79.6094 L26,94.6094 M39,79.6094 L52,94.6094 " fill="none" filter="url(#f18wngyyvjoswi)" style="stroke: #A80036; stroke-width: 2.0;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="8" y="577.6738">Authority</text>
        <ellipse cx="39" cy="590.75" fill="#FEFECE" filter="url(#f18wngyyvjoswi)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;" />
        <path d="M39,598.75 L39,625.75 M26,606.75 L52,606.75 M39,625.75 L26,640.75 M39,625.75 L52,640.75 " fill="none" filter="url(#f18wngyyvjoswi)" style="stroke: #A80036; stroke-width: 2.0;" />
        <rect fill="#FEFECE" filter="url(#f18wngyyvjoswi)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="260" y="82.6094" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="54" x="267" y="104.1426">UserApp</text>
        <rect fill="#FEFECE" filter="url(#f18wngyyvjoswi)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="260" y="563.1406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="54" x="267" y="584.6738">UserApp</text>
        <rect fill="#FEFECE" filter="url(#f18wngyyvjoswi)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="57" x="469.5" y="82.6094" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="476.5" y="104.1426">Router</text>
        <rect fill="#FEFECE" filter="url(#f18wngyyvjoswi)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="57" x="469.5" y="563.1406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="476.5" y="584.6738">Router</text>
        <rect fill="#FEFECE" filter="url(#f18wngyyvjoswi)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="102" x="651" y="82.6094" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="88" x="658" y="104.1426">QueryHandler</text>
        <rect fill="#FEFECE" filter="url(#f18wngyyvjoswi)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="102" x="651" y="563.1406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="88" x="658" y="584.6738">QueryHandler</text>
        <rect fill="#FEFECE" filter="url(#f18wngyyvjoswi)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="833.5" y="82.6094" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="840.5" y="104.1426">DBMS</text>
        <rect fill="#FEFECE" filter="url(#f18wngyyvjoswi)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="833.5" y="563.1406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="840.5" y="584.6738">DBMS</text>
        <rect fill="#FEFECE" filter="url(#f18wngyyvjoswi)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="900.5" y="82.6094" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="907.5" y="104.1426">GoogleMaps</text>
        <rect fill="#FEFECE" filter="url(#f18wngyyvjoswi)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="900.5" y="563.1406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="907.5" y="584.6738">GoogleMaps</text>
        <rect fill="#FFFFFF" filter="url(#f18wngyyvjoswi)" height="416.9219" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="34" y="129.2188" />
        <rect fill="#FFFFFF" filter="url(#f18wngyyvjoswi)" height="416.9219" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="291" y="129.2188" />
        <rect fill="#FFFFFF" filter="url(#f18wngyyvjoswi)" height="221.4609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="495" y="333.6797" />
        <rect fill="#FFFFFF" filter="url(#f18wngyyvjoswi)" height="121.4063" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="699" y="364.0313" />
        <rect fill="#FFFFFF" filter="url(#f18wngyyvjoswi)" height="60.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="857" y="394.3828" />
        <rect fill="#FFFFFF" filter="url(#f18wngyyvjoswi)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="944.5" y="212.2734" />
        <polygon fill="#A80036" points="279,147.5703,289,151.5703,279,155.5703,283,151.5703" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="44" x2="285" y1="151.5703" y2="151.5703" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="183" x="51" y="146.7139">showSafeAnalyticsQueryPage()</text>
        <polygon fill="#A80036" points="55,177.9219,45,181.9219,55,185.9219,51,181.9219" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="49" x2="290" y1="181.9219" y2="181.9219" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="61" y="177.0654">SafeAnalytics query page</text>
        <polygon fill="#A80036" points="932.5,208.2734,942.5,212.2734,932.5,216.2734,936.5,212.2734" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="301" x2="938.5" y1="212.2734" y2="212.2734" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="308" y="207.417">getQueryMap()</text>
        <polygon fill="#A80036" points="312,238.625,302,242.625,312,246.625,308,242.625" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="306" x2="948.5" y1="242.625" y2="242.625" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="318" y="237.7686">Map</text>
        <polygon fill="#A80036" points="279,268.9766,289,272.9766,279,276.9766,283,272.9766" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="44" x2="285" y1="272.9766" y2="272.9766" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="51" y="268.1201">Geographical filters</text>
        <polygon fill="#A80036" points="279,299.3281,289,303.3281,279,307.3281,283,303.3281" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="44" x2="285" y1="303.3281" y2="303.3281" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="51" y="298.4717">Time filters</text>
        <polygon fill="#A80036" points="279,329.6797,289,333.6797,279,337.6797,283,333.6797" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="44" x2="285" y1="333.6797" y2="333.6797" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="51" y="328.8232">License plate filters</text>
        <polygon fill="#A80036" points="483,360.0313,493,364.0313,483,368.0313,487,364.0313" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="301" x2="489" y1="364.0313" y2="364.0313" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="308" y="359.1748">sendTicketsQuery(filter:Filter)</text>
        <polygon fill="#A80036" points="687,390.3828,697,394.3828,687,398.3828,691,394.3828" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="505" x2="693" y1="394.3828" y2="394.3828" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="512" y="389.5264">sendTicketsQuery(filter:Filter)</text>
        <polygon fill="#A80036" points="845,420.7344,855,424.7344,845,428.7344,849,424.7344" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="709" x2="851" y1="424.7344" y2="424.7344" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="716" y="419.8779">getData(query:Query)</text>
        <polygon fill="#A80036" points="720,451.0859,710,455.0859,720,459.0859,716,455.0859" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="714" x2="861" y1="455.0859" y2="455.0859" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="726" y="450.2295">Violations Info</text>
        <polygon fill="#A80036" points="516,481.4375,506,485.4375,516,489.4375,512,485.4375" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="510" x2="703" y1="485.4375" y2="485.4375" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="522" y="480.5811">Violations Info</text>
        <polygon fill="#A80036" points="312,511.7891,302,515.7891,312,519.7891,308,515.7891" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="306" x2="494" y1="515.7891" y2="515.7891" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="318" y="510.9326">Violations Info</text>
        <polygon fill="#A80036" points="50,542.1406,40,546.1406,50,550.1406,46,546.1406" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="44" x2="295" y1="546.1406" y2="546.1406" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="223" x="56" y="541.2842">showViolationsData(info:ViolationsInfo)</text>
        <!--MD5=[7d232da09733443edc1ed6f7ac06abfe]
@startuml

title Tickets Info

actor Authority as auth
participant UserApp as app
participant "Router" as rout
participant "QueryHandler" as queryh
participant "DBMS" as db
participant "GoogleMaps" as google

activate auth
activate app

  auth -> app : showSafeAnalyticsQueryPage()
  app - -> auth : SafeAnalytics query page
  app -> google : getQueryMap()
  activate google
    google - -> app : Map
  deactivate google
  auth -> app : Geographical filters
  auth -> app : Time filters
  auth -> app : License plate filters

  activate rout
    app -> rout : sendTicketsQuery(filter:Filter)

    activate queryh

      rout -> queryh : sendTicketsQuery(filter:Filter)

      activate db

        queryh -> db : getData(query:Query)
        db - -> queryh : Violations Info

      deactivate db

      queryh - -> rout : Violations Info

    deactivate queryh

    rout - -> app : Violations Info


    app - -> auth : showViolationsData(info:ViolationsInfo)

deactivate app
deactivate auth


@enduml

PlantUML version 1.2019.11(Sun Sep 22 12:02:15 CEST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Java Version: 1.8.0_221-b11
Operating System: Windows 10
Default Encoding: Cp1252
Language: en
Country: US
-->
    </g>
</svg>