<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="502px" preserveAspectRatio="none" style="width:1034px;height:502px;" version="1.1" viewBox="0 0 1034 502" width="1034px" zoomAndPan="magnify">
    <defs>
        <filter height="300%" id="f6zyk3jy3lfrb" width="300%" x="-1" y="-1">
            <feGaussianBlur result="blurOut" stdDeviation="2.0" />
            <feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" />
            <feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3" />
            <feBlend in="SourceGraphic" in2="blurOut3" mode="normal" />
        </filter>
    </defs>
    <g>
        <rect fill="#FFFFFF" filter="url(#f6zyk3jy3lfrb)" height="41.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="216" y="48.2969" />
        <rect fill="#FFFFFF" filter="url(#f6zyk3jy3lfrb)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="216" y="263.3594" />
        <rect fill="#FFFFFF" filter="url(#f6zyk3jy3lfrb)" height="89.0703" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="216" y="363.7578" />
        <rect fill="#FFFFFF" filter="url(#f6zyk3jy3lfrb)" height="49.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="514" y="89.5625" />
        <rect fill="#FFFFFF" filter="url(#f6zyk3jy3lfrb)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="514" y="234.2266" />
        <rect fill="#FFFFFF" filter="url(#f6zyk3jy3lfrb)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="514" y="407.6953" />
        <rect fill="#FFFFFF" filter="url(#f6zyk3jy3lfrb)" height="95.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="756" y="138.8281" />
        <rect fill="#FFFFFF" filter="url(#f6zyk3jy3lfrb)" height="89.0703" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="756" y="363.7578" />
        <rect fill="#FFFFFF" filter="url(#f6zyk3jy3lfrb)" height="71.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="900" y="292.4922" />
        <rect fill="#FFFFFF" filter="url(#f6zyk3jy3lfrb)" height="248.8672" style="stroke: #000000; stroke-width: 2.0;" width="876" x="146" y="195.9609" />
        <rect fill="#FFFFFF" height="73.0703" style="stroke: none; stroke-width: 1.0;" width="876" x="146" y="371.7578" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="221" x2="221" y1="38.2969" y2="461.8281" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="518.5" x2="518.5" y1="38.2969" y2="461.8281" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="761" x2="761" y1="38.2969" y2="461.8281" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="905" x2="905" y1="38.2969" y2="461.8281" />
        <rect fill="#FEFECE" filter="url(#f6zyk3jy3lfrb)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="126" x="156" y="3" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="163" y="22.9951">Report manager</text>
        <rect fill="#FEFECE" filter="url(#f6zyk3jy3lfrb)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="126" x="156" y="460.8281" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="163" y="480.8232">Report manager</text>
        <rect fill="#FEFECE" filter="url(#f6zyk3jy3lfrb)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="462.5" y="3" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="469.5" y="22.9951">MTS manager</text>
        <rect fill="#FEFECE" filter="url(#f6zyk3jy3lfrb)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="462.5" y="460.8281" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="469.5" y="480.8232">MTS manager</text>
        <rect fill="#FEFECE" filter="url(#f6zyk3jy3lfrb)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="44" x="737" y="3" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="744" y="22.9951">MTS</text>
        <rect fill="#FEFECE" filter="url(#f6zyk3jy3lfrb)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="44" x="737" y="460.8281" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="744" y="480.8232">MTS</text>
        <rect fill="#FEFECE" filter="url(#f6zyk3jy3lfrb)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="56" x="875" y="3" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="882" y="22.9951">DBMS</text>
        <rect fill="#FEFECE" filter="url(#f6zyk3jy3lfrb)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="56" x="875" y="460.8281" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="882" y="480.8232">DBMS</text>
        <rect fill="#FFFFFF" filter="url(#f6zyk3jy3lfrb)" height="41.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="216" y="48.2969" />
        <rect fill="#FFFFFF" filter="url(#f6zyk3jy3lfrb)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="216" y="263.3594" />
        <rect fill="#FFFFFF" filter="url(#f6zyk3jy3lfrb)" height="89.0703" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="216" y="363.7578" />
        <rect fill="#FFFFFF" filter="url(#f6zyk3jy3lfrb)" height="49.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="514" y="89.5625" />
        <rect fill="#FFFFFF" filter="url(#f6zyk3jy3lfrb)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="514" y="234.2266" />
        <rect fill="#FFFFFF" filter="url(#f6zyk3jy3lfrb)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="514" y="407.6953" />
        <rect fill="#FFFFFF" filter="url(#f6zyk3jy3lfrb)" height="95.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="756" y="138.8281" />
        <rect fill="#FFFFFF" filter="url(#f6zyk3jy3lfrb)" height="89.0703" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="756" y="363.7578" />
        <rect fill="#FFFFFF" filter="url(#f6zyk3jy3lfrb)" height="71.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="900" y="292.4922" />
        <polygon fill="#A80036" points="502,85.5625,512,89.5625,502,93.5625,506,89.5625" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="221" x2="508" y1="89.5625" y2="89.5625" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="269" x="228" y="84.4966">forwardsViolationReport(v:ViolationReport)</text>
        <path d="M8,53.2969 L8,108.2969 L207,108.2969 L207,63.2969 L197,53.2969 L8,53.2969 " fill="#FBFB77" filter="url(#f6zyk3jy3lfrb)" style="stroke: #A80036; stroke-width: 1.0;" />
        <path d="M197,53.2969 L197,63.2969 L207,63.2969 L197,53.2969 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="14" y="70.3638">Everytime a new violation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="178" x="14" y="85.4966">report is stored in the dbms</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="14" y="100.6294">this process starts.</text>
        <polygon fill="#A80036" points="744,134.8281,754,138.8281,744,142.8281,748,138.8281" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="519" x2="750" y1="138.8281" y2="138.8281" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="213" x="526" y="133.7622">generateTicket(v:ViolationReport)</text>
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="766" x2="808" y1="167.9609" y2="167.9609" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="808" x2="808" y1="167.9609" y2="180.9609" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="767" x2="808" y1="180.9609" y2="180.9609" />
        <polygon fill="#A80036" points="777,176.9609,767,180.9609,777,184.9609,773,180.9609" style="stroke: #A80036; stroke-width: 1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="773" y="162.895">generating ticket...</text>
        <path d="M146,195.9609 L210,195.9609 L210,202.9609 L200,212.9609 L146,212.9609 L146,195.9609 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;" />
        <rect fill="none" height="248.8672" style="stroke: #000000; stroke-width: 2.0;" width="876" x="146" y="195.9609" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="161" y="209.0278">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="304" x="225" y="208.1714">[Ticket correctly generated by the MTS service]</text>
        <polygon fill="#A80036" points="535,230.2266,525,234.2266,535,238.2266,531,234.2266" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="529" x2="760" y1="234.2266" y2="234.2266" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="37" x="541" y="229.1606">Ticket</text>
        <polygon fill="#A80036" points="237,259.3594,227,263.3594,237,267.3594,233,263.3594" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="231" x2="518" y1="263.3594" y2="263.3594" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="37" x="243" y="258.2935">Ticket</text>
        <polygon fill="#A80036" points="888,288.4922,898,292.4922,888,296.4922,892,292.4922" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="221" x2="894" y1="292.4922" y2="292.4922" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="228" y="287.4263">storeTicket(t:Ticket)</text>
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="910" x2="952" y1="321.625" y2="321.625" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="952" x2="952" y1="321.625" y2="334.625" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="911" x2="952" y1="334.625" y2="334.625" />
        <polygon fill="#A80036" points="921,330.625,911,334.625,921,338.625,917,334.625" style="stroke: #A80036; stroke-width: 1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="917" y="316.5591">Storing ticket..</text>
        <polygon fill="#A80036" points="237,359.7578,227,363.7578,237,367.7578,233,363.7578" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="231" x2="904" y1="363.7578" y2="363.7578" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="243" y="358.6919">Ok ticket stored</text>
        <line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="146" x2="1022" y1="372.7578" y2="372.7578" /><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="194" x="151" y="382.9683">[Error while generating ticket]</text>
        <polygon fill="#A80036" points="535,403.6953,525,407.6953,535,411.6953,531,407.6953" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="529" x2="755" y1="407.6953" y2="407.6953" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="139" x="541" y="402.6294">Error, no ticket stored</text>
        <polygon fill="#A80036" points="237,432.8281,227,436.8281,237,440.8281,233,436.8281" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="231" x2="518" y1="436.8281" y2="436.8281" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="139" x="243" y="431.7622">Error, no ticket stored</text>
        <!--
@startuml

participant "Report manager" as rm
participant "MTS manager" as mtsm
participant MTS as mts
participant DBMS as db

activate rm
rm -> mtsm - -: forwardsViolationReport(v:ViolationReport)
note left
  Everytime a new violation
  report is stored in the dbms
  this process starts.
end note
activate mtsm
mtsm -> mts - -: generateTicket(v:ViolationReport)
activate mts
mts -> mts : generating ticket...
alt Ticket correctly generated by the MTS service
  mts - -> mtsm : Ticket
  deactivate mts
  activate mtsm
  mtsm - -> rm - -: Ticket
  activate rm
  rm -> db - -: storeTicket(t:Ticket)
  activate db
  db -> db : Storing ticket..
  db - -> rm  - -: Ok ticket stored
  activate rm


else Error while generating ticket
  activate mts
  mts - -> mtsm : Error, no ticket stored
  activate mtsm
  mtsm - -> rm - -: Error, no ticket stored
end

@enduml

PlantUML version 1.2018.14(Fri Dec 21 17:33:16 CET 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.4+11-post-Ubuntu-1ubuntu218.04.3
Operating System: Linux
OS Version: 4.18.0-22-generic
Default Encoding: UTF-8
Language: en
Country: US
-->
    </g>
</svg>