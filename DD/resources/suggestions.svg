<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="761px" preserveAspectRatio="none" style="width:1060px;height:761px;" version="1.1" viewBox="0 0 1060 761" width="1060px" zoomAndPan="magnify">
    <defs>
        <filter height="300%" id="fxfr1ccp8wa2m" width="300%" x="-1" y="-1">
            <feGaussianBlur result="blurOut" stdDeviation="2.0" />
            <feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" />
            <feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3" />
            <feBlend in="SourceGraphic" in2="blurOut3" mode="normal" />
        </filter>
    </defs>
    <g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="88" x="486.75" y="24.5332">Suggestions</text>
        <rect fill="#FFFFFF" filter="url(#fxfr1ccp8wa2m)" height="533.8125" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="72" y="129.2188" />
        <rect fill="#FFFFFF" filter="url(#fxfr1ccp8wa2m)" height="533.8125" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="307" y="129.2188" />
        <rect fill="#FFFFFF" filter="url(#fxfr1ccp8wa2m)" height="344.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="534" y="272.9766" />
        <rect fill="#FFFFFF" filter="url(#fxfr1ccp8wa2m)" height="284" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="716" y="303.3281" />
        <rect fill="#FFFFFF" filter="url(#fxfr1ccp8wa2m)" height="223.2969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="912" y="333.6797" />
        <rect fill="#FFFFFF" filter="url(#fxfr1ccp8wa2m)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="999.5" y="181.9219" />
        <rect fill="#FFFFFF" filter="url(#fxfr1ccp8wa2m)" height="277" style="stroke: #000000; stroke-width: 2.0;" width="942.5" x="13" y="379.0313" />
        <rect fill="#FFFFFF" height="137.2422" style="stroke: none; stroke-width: 1.0;" width="942.5" x="13" y="518.7891" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="77" x2="77" y1="119.2188" y2="673.0313" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="312" x2="312" y1="119.2188" y2="673.0313" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="538.5" x2="538.5" y1="119.2188" y2="673.0313" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="720.5" x2="720.5" y1="119.2188" y2="673.0313" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="916.5" x2="916.5" y1="119.2188" y2="673.0313" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1004.5" x2="1004.5" y1="119.2188" y2="673.0313" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="23" y="116.1426">MunicipalityUser</text>
        <ellipse cx="77" cy="44.6094" fill="#FEFECE" filter="url(#fxfr1ccp8wa2m)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;" />
        <path d="M77,52.6094 L77,79.6094 M64,60.6094 L90,60.6094 M77,79.6094 L64,94.6094 M77,79.6094 L90,94.6094 " fill="none" filter="url(#fxfr1ccp8wa2m)" style="stroke: #A80036; stroke-width: 2.0;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="23" y="686.5645">MunicipalityUser</text>
        <ellipse cx="77" cy="699.6406" fill="#FEFECE" filter="url(#fxfr1ccp8wa2m)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;" />
        <path d="M77,707.6406 L77,734.6406 M64,715.6406 L90,715.6406 M77,734.6406 L64,749.6406 M77,734.6406 L90,749.6406 " fill="none" filter="url(#fxfr1ccp8wa2m)" style="stroke: #A80036; stroke-width: 2.0;" />
        <rect fill="#FEFECE" filter="url(#fxfr1ccp8wa2m)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="254" y="82.6094" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="261" y="104.1426">UserApplication</text>
        <rect fill="#FEFECE" filter="url(#fxfr1ccp8wa2m)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="254" y="672.0313" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="261" y="693.5645">UserApplication</text>
        <rect fill="#FEFECE" filter="url(#fxfr1ccp8wa2m)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="57" x="508.5" y="82.6094" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="515.5" y="104.1426">Router</text>
        <rect fill="#FEFECE" filter="url(#fxfr1ccp8wa2m)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="57" x="508.5" y="672.0313" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="515.5" y="693.5645">Router</text>
        <rect fill="#FEFECE" filter="url(#fxfr1ccp8wa2m)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="664.5" y="82.6094" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="671.5" y="104.1426">QueryManager</text>
        <rect fill="#FEFECE" filter="url(#fxfr1ccp8wa2m)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="664.5" y="672.0313" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="671.5" y="693.5645">QueryManager</text>
        <rect fill="#FEFECE" filter="url(#fxfr1ccp8wa2m)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="888.5" y="82.6094" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="895.5" y="104.1426">DBMS</text>
        <rect fill="#FEFECE" filter="url(#fxfr1ccp8wa2m)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="888.5" y="672.0313" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="895.5" y="693.5645">DBMS</text>
        <rect fill="#FEFECE" filter="url(#fxfr1ccp8wa2m)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="955.5" y="82.6094" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="962.5" y="104.1426">GoogleMaps</text>
        <rect fill="#FEFECE" filter="url(#fxfr1ccp8wa2m)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="955.5" y="672.0313" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="962.5" y="693.5645">GoogleMaps</text>
        <rect fill="#FFFFFF" filter="url(#fxfr1ccp8wa2m)" height="533.8125" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="72" y="129.2188" />
        <rect fill="#FFFFFF" filter="url(#fxfr1ccp8wa2m)" height="533.8125" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="307" y="129.2188" />
        <rect fill="#FFFFFF" filter="url(#fxfr1ccp8wa2m)" height="344.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="534" y="272.9766" />
        <rect fill="#FFFFFF" filter="url(#fxfr1ccp8wa2m)" height="284" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="716" y="303.3281" />
        <rect fill="#FFFFFF" filter="url(#fxfr1ccp8wa2m)" height="223.2969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="912" y="333.6797" />
        <rect fill="#FFFFFF" filter="url(#fxfr1ccp8wa2m)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="999.5" y="181.9219" />
        <polygon fill="#A80036" points="295,147.5703,305,151.5703,295,155.5703,299,151.5703" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="82" x2="301" y1="151.5703" y2="151.5703" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="201" x="89" y="146.7139">showSafeSuggestionsQueryPage()</text>
        <polygon fill="#A80036" points="987.5,177.9219,997.5,181.9219,987.5,185.9219,991.5,181.9219" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="317" x2="993.5" y1="181.9219" y2="181.9219" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="324" y="177.0654">getQueryMap()</text>
        <polygon fill="#A80036" points="328,208.2734,318,212.2734,328,216.2734,324,212.2734" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="322" x2="1003.5" y1="212.2734" y2="212.2734" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="334" y="207.417">Map</text>
        <polygon fill="#A80036" points="93,238.625,83,242.625,93,246.625,89,242.625" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="87" x2="306" y1="242.625" y2="242.625" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="159" x="99" y="237.7686">SafeSuggestion query page</text>
        <polygon fill="#A80036" points="295,268.9766,305,272.9766,295,276.9766,299,272.9766" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="82" x2="301" y1="272.9766" y2="272.9766" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="89" y="268.1201">Geographical filters</text>
        <polygon fill="#A80036" points="522,299.3281,532,303.3281,522,307.3281,526,303.3281" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="317" x2="528" y1="303.3281" y2="303.3281" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="324" y="298.4717">sendSuggestionQuery(filter:Filter)</text>
        <polygon fill="#A80036" points="704,329.6797,714,333.6797,704,337.6797,708,333.6797" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="544" x2="710" y1="333.6797" y2="333.6797" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="551" y="328.8232">getSuggestion(filter:Filter)</text>
        <polygon fill="#A80036" points="900,360.0313,910,364.0313,900,368.0313,904,364.0313" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="726" x2="906" y1="364.0313" y2="364.0313" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="733" y="359.1748">getSuggestion(query:Query)</text>
        <path d="M13,379.0313 L74,379.0313 L74,387.0313 L64,397.0313 L13,397.0313 L13,379.0313 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;" />
        <rect fill="none" height="277" style="stroke: #000000; stroke-width: 2.0;" width="942.5" x="13" y="379.0313" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="28" y="393.5264">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="132" x="89" y="392.4502">[there are suggestions]</text>
        <polygon fill="#A80036" points="737,415.7344,727,419.7344,737,423.7344,733,419.7344" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="731" x2="911" y1="419.7344" y2="419.7344" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="743" y="414.8779">Suggestions</text>
        <polygon fill="#A80036" points="555,446.0859,545,450.0859,555,454.0859,551,450.0859" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="549" x2="715" y1="450.0859" y2="450.0859" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="561" y="445.2295">Suggestions</text>
        <polygon fill="#A80036" points="328,476.4375,318,480.4375,328,484.4375,324,480.4375" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="322" x2="533" y1="480.4375" y2="480.4375" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="334" y="475.5811">Suggestions</text>
        <polygon fill="#A80036" points="93,506.7891,83,510.7891,93,514.7891,89,510.7891" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="87" x2="306" y1="510.7891" y2="510.7891" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="99" y="505.9326">Suggestion</text>
        <line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="955.5" y1="519.7891" y2="519.7891" /><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="95" x="18" y="531.208">[no suggestions]</text>
        <polygon fill="#A80036" points="737,552.9766,727,556.9766,737,560.9766,733,556.9766" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="731" x2="916" y1="556.9766" y2="556.9766" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="743" y="552.1201">No suggestions message</text>
        <polygon fill="#A80036" points="555,583.3281,545,587.3281,555,591.3281,551,587.3281" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="549" x2="720" y1="587.3281" y2="587.3281" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="561" y="582.4717">No suggestions message</text>
        <polygon fill="#A80036" points="328,613.6797,318,617.6797,328,621.6797,324,617.6797" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="322" x2="538" y1="617.6797" y2="617.6797" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="334" y="612.8232">No suggestion message</text>
        <polygon fill="#A80036" points="93,644.0313,83,648.0313,93,652.0313,89,648.0313" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="87" x2="306" y1="648.0313" y2="648.0313" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="99" y="643.1748">No suggestions message</text>
        <!--MD5=[4503b95ab2fefaebf38f63fbf57745ce]
@startuml

title Suggestions

actor MunicipalityUser as user
participant "UserApplication" as app
participant Router as rout
participant "QueryManager" as queryh
participant DBMS as db
participant "GoogleMaps" as google

activate user
activate app

  user -> app : showSafeSuggestionsQueryPage()
  app -> google : getQueryMap()

  activate google
    google - -> app : Map
  deactivate google

  app - -> user : SafeSuggestion query page
  user -> app : Geographical filters

  activate rout

    app -> rout : sendSuggestionQuery(filter:Filter)

    activate queryh

      rout -> queryh : getSuggestion(filter:Filter)

      activate db

        queryh -> db : getSuggestion(query:Query)

        alt there are suggestions

          db - -> queryh : Suggestions
          queryh - -> rout : Suggestions
          rout - -> app : Suggestions
          app - -> user : Suggestion

        else no suggestions

          db - -> queryh : No suggestions message

        deactivate db

          queryh - -> rout : No suggestions message
        deactivate queryh
          rout - -> app : No suggestion message
        deactivate rout
          app - -> user : No suggestions message

        end

deactivate app
deactivate user

@enduml

PlantUML version 1.2019.11(Sun Sep 22 12:02:15 CEST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Java Version: 1.8.0_221-b11
Operating System: Windows 10
Default Encoding: Cp1252
Language: en
Country: US
-->
    </g>
</svg>