<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1475px" preserveAspectRatio="none" style="width:1612px;height:1475px;" version="1.1" viewBox="0 0 1612 1475" width="1612px" zoomAndPan="magnify">
    <defs>
        <filter height="300%" id="f6s4hd06mo947" width="300%" x="-1" y="-1">
            <feGaussianBlur result="blurOut" stdDeviation="2.0" />
            <feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0" />
            <feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3" />
            <feBlend in="SourceGraphic" in2="blurOut3" mode="normal" />
        </filter>
    </defs>
    <g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="138" x="737.75" y="22.9951">Report a violation</text>
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="1252.8594" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="57" y="126.5938" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="1231.7266" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="328" y="147.7266" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="632" y="277.2578" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="632" y="476.1875" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="632" y="616.8516" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="56.832" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="632" y="869.4805" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="632" y="1028.5156" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="632" y="1166.8516" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="632" y="1305.1875" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="58.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="896" y="277.2578" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="896" y="447.0547" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="896" y="645.9844" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="56.832" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="896" y="812.6484" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="896" y="999.3828" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="896" y="1166.8516" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="896" y="1276.0547" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1078" y="335.5234" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1078" y="417.9219" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1078" y="1246.9219" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="53.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1234" y="364.6563" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1234" y="1246.9219" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="137.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1298.5" y="675.1172" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="43.9375" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1298.5" y="955.4453" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="991.7969" style="stroke: #000000; stroke-width: 2.0;" width="1587.5" x="13" y="379.6563" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="654.5313" style="stroke: #000000; stroke-width: 2.0;" width="1567.5" x="23" y="549.4531" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="362.5313" style="stroke: #000000; stroke-width: 2.0;" width="1547.5" x="33" y="732.25" />
        <rect fill="#FFFFFF" height="131.3359" style="stroke: none; stroke-width: 1.0;" width="1547.5" x="33" y="963.4453" />
        <rect fill="#FFFFFF" height="102.2031" style="stroke: none; stroke-width: 1.0;" width="1567.5" x="23" y="1101.7813" />
        <rect fill="#FFFFFF" height="160.4688" style="stroke: none; stroke-width: 1.0;" width="1587.5" x="13" y="1210.9844" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="62" x2="62" y1="116.5938" y2="1388.4531" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="333" x2="333" y1="116.5938" y2="1388.4531" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="636.5" x2="636.5" y1="116.5938" y2="1388.4531" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="901" x2="901" y1="116.5938" y2="1388.4531" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1082.5" x2="1082.5" y1="116.5938" y2="1388.4531" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1238.5" x2="1238.5" y1="116.5938" y2="1388.4531" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1303.5" x2="1303.5" y1="116.5938" y2="1388.4531" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="43" y="113.292">User</text>
        <ellipse cx="62" cy="43.2969" fill="#FEFECE" filter="url(#f6s4hd06mo947)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;" />
        <path d="M62,51.2969 L62,78.2969 M49,59.2969 L75,59.2969 M62,78.2969 L49,93.2969 M62,78.2969 L75,93.2969 " fill="none" filter="url(#f6s4hd06mo947)" style="stroke: #A80036; stroke-width: 2.0;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="43" y="1400.4482">User</text>
        <ellipse cx="62" cy="1413.75" fill="#FEFECE" filter="url(#f6s4hd06mo947)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;" />
        <path d="M62,1421.75 L62,1448.75 M49,1429.75 L75,1429.75 M62,1448.75 L49,1463.75 M62,1448.75 L75,1463.75 " fill="none" filter="url(#f6s4hd06mo947)" style="stroke: #A80036; stroke-width: 2.0;" />
        <rect fill="#FEFECE" filter="url(#f6s4hd06mo947)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="86" x="288" y="81.2969" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="72" x="295" y="101.292">MobileApp</text>
        <rect fill="#FEFECE" filter="url(#f6s4hd06mo947)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="86" x="288" y="1387.4531" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="72" x="295" y="1407.4482">MobileApp</text>
        <rect fill="#FEFECE" filter="url(#f6s4hd06mo947)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="61" x="604.5" y="81.2969" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="611.5" y="101.292">Router</text>
        <rect fill="#FEFECE" filter="url(#f6s4hd06mo947)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="61" x="604.5" y="1387.4531" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="611.5" y="1407.4482">Router</text>
        <rect fill="#FEFECE" filter="url(#f6s4hd06mo947)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="126" x="836" y="81.2969" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="843" y="101.292">Report manager</text>
        <rect fill="#FEFECE" filter="url(#f6s4hd06mo947)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="126" x="836" y="1387.4531" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="843" y="1407.4482">Report manager</text>
        <rect fill="#FEFECE" filter="url(#f6s4hd06mo947)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="127" x="1017.5" y="81.2969" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="1024.5" y="101.292">Picture manager</text>
        <rect fill="#FEFECE" filter="url(#f6s4hd06mo947)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="127" x="1017.5" y="1387.4531" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="1024.5" y="1407.4482">Picture manager</text>
        <rect fill="#FEFECE" filter="url(#f6s4hd06mo947)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="45" x="1214.5" y="81.2969" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="1221.5" y="101.292">OCR</text>
        <rect fill="#FEFECE" filter="url(#f6s4hd06mo947)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="45" x="1214.5" y="1387.4531" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="1221.5" y="1407.4482">OCR</text>
        <rect fill="#FEFECE" filter="url(#f6s4hd06mo947)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="56" x="1273.5" y="81.2969" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="1280.5" y="101.292">DBMS</text>
        <rect fill="#FEFECE" filter="url(#f6s4hd06mo947)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="56" x="1273.5" y="1387.4531" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="1280.5" y="1407.4482">DBMS</text>
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="1252.8594" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="57" y="126.5938" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="1231.7266" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="328" y="147.7266" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="632" y="277.2578" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="632" y="476.1875" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="632" y="616.8516" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="56.832" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="632" y="869.4805" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="632" y="1028.5156" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="632" y="1166.8516" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="632" y="1305.1875" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="58.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="896" y="277.2578" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="896" y="447.0547" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="896" y="645.9844" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="56.832" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="896" y="812.6484" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="896" y="999.3828" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="896" y="1166.8516" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="896" y="1276.0547" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1078" y="335.5234" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1078" y="417.9219" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1078" y="1246.9219" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="53.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1234" y="364.6563" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1234" y="1246.9219" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="137.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1298.5" y="675.1172" />
        <rect fill="#FFFFFF" filter="url(#f6s4hd06mo947)" height="43.9375" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1298.5" y="955.4453" />
        <polygon fill="#A80036" points="316,143.7266,326,147.7266,316,151.7266,320,147.7266" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="67" x2="322" y1="147.7266" y2="147.7266" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82" x="74" y="142.6606">takePicture()</text>
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="338" x2="380" y1="176.8594" y2="176.8594" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="380" x2="380" y1="176.8594" y2="189.8594" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="339" x2="380" y1="189.8594" y2="189.8594" />
        <polygon fill="#A80036" points="349,185.8594,339,189.8594,349,193.8594,345,189.8594" style="stroke: #A80036; stroke-width: 1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="345" y="171.7935">insertMetadata(..)</text>
        <polygon fill="#A80036" points="78,214.9922,68,218.9922,78,222.9922,74,218.9922" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="72" x2="327" y1="218.9922" y2="218.9922" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="84" y="213.9263">Ask violation type</text>
        <polygon fill="#A80036" points="316,244.125,326,248.125,316,252.125,320,248.125" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="67" x2="322" y1="248.125" y2="248.125" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="74" y="243.0591">Reply violation type</text>
        <polygon fill="#A80036" points="620,273.2578,630,277.2578,620,281.2578,624,277.2578" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="338" x2="626" y1="277.2578" y2="277.2578" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="259" x="345" y="272.1919">forwardViolationReport(vr:ViolatinReport)</text>
        <polygon fill="#A80036" points="884,302.3906,894,306.3906,884,310.3906,888,306.3906" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="637" x2="890" y1="306.3906" y2="306.3906" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="208" x="644" y="301.3247">handleReport(vr:ViolationReport)</text>
        <polygon fill="#A80036" points="1066,331.5234,1076,335.5234,1066,339.5234,1070,335.5234" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="901" x2="1072" y1="335.5234" y2="335.5234" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="153" x="908" y="330.4575">handlePicture(p:Picture)</text>
        <polygon fill="#A80036" points="1222,360.6563,1232,364.6563,1222,368.6563,1226,364.6563" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="1083" x2="1228" y1="364.6563" y2="364.6563" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="1090" y="359.5903">readPlate(p:Picture)</text>
        <path d="M13,379.6563 L77,379.6563 L77,386.6563 L67,396.6563 L13,396.6563 L13,379.6563 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;" />
        <rect fill="none" height="991.7969" style="stroke: #000000; stroke-width: 2.0;" width="1587.5" x="13" y="379.6563" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="28" y="392.7231">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="139" x="92" y="391.8667">[OCR reads the plate]</text>
        <polygon fill="#A80036" points="1099,413.9219,1089,417.9219,1099,421.9219,1095,417.9219" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1093" x2="1238" y1="417.9219" y2="417.9219" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="1105" y="412.856">License plate</text>
        <polygon fill="#A80036" points="917,443.0547,907,447.0547,917,451.0547,913,447.0547" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="911" x2="1082" y1="447.0547" y2="447.0547" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="923" y="441.9888">License plate</text>
        <polygon fill="#A80036" points="653,472.1875,643,476.1875,653,480.1875,649,476.1875" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="647" x2="900" y1="476.1875" y2="476.1875" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="235" x="659" y="471.1216">forwardRequest(licensePlate : String)</text>
        <polygon fill="#A80036" points="349,501.3203,339,505.3203,349,509.3203,345,505.3203" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="343" x2="636" y1="505.3203" y2="505.3203" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="270" x="355" y="500.2544">askUserConfirmation(licensePlate : String)</text>
        <polygon fill="#A80036" points="78,530.4531,68,534.4531,78,538.4531,74,534.4531" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="72" x2="327" y1="534.4531" y2="534.4531" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="159" x="84" y="529.3872">ask user for confirmation</text>
        <path d="M23,549.4531 L87,549.4531 L87,556.4531 L77,566.4531 L23,566.4531 L23,549.4531 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;" />
        <rect fill="none" height="654.5313" style="stroke: #000000; stroke-width: 2.0;" width="1567.5" x="23" y="549.4531" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="38" y="562.52">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="102" y="561.6636">[yes]</text>
        <polygon fill="#A80036" points="316,583.7188,326,587.7188,316,591.7188,320,587.7188" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="67" x2="322" y1="587.7188" y2="587.7188" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="74" y="582.6528">yes</text>
        <polygon fill="#A80036" points="620,612.8516,630,616.8516,620,620.8516,624,616.8516" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="338" x2="626" y1="616.8516" y2="616.8516" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="345" y="611.7856">yes</text>
        <polygon fill="#A80036" points="884,641.9844,894,645.9844,884,649.9844,888,645.9844" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="637" x2="890" y1="645.9844" y2="645.9844" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="644" y="640.9185">yes</text>
        <polygon fill="#A80036" points="1286.5,671.1172,1296.5,675.1172,1286.5,679.1172,1290.5,675.1172" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="901" x2="1292.5" y1="675.1172" y2="675.1172" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="208" x="908" y="670.0513">storeRequest(vr:ViolationReport)</text>
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="1308.5" x2="1350.5" y1="704.25" y2="704.25" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="1350.5" x2="1350.5" y1="704.25" y2="717.25" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="1309.5" x2="1350.5" y1="717.25" y2="717.25" />
        <polygon fill="#A80036" points="1319.5,713.25,1309.5,717.25,1319.5,721.25,1315.5,717.25" style="stroke: #A80036; stroke-width: 1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="238" x="1315.5" y="699.1841">equivalenceCheck(vr:ViolationReport)</text>
        <path d="M33,732.25 L97,732.25 L97,739.25 L87,749.25 L33,749.25 L33,732.25 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;" />
        <rect fill="none" height="362.5313" style="stroke: #000000; stroke-width: 2.0;" width="1547.5" x="33" y="732.25" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="48" y="745.3169">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="254" x="112" y="744.4604">[ViolationReport accepted by the dbms]</text>
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="1308.5" x2="1350.5" y1="770.5156" y2="770.5156" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="1350.5" x2="1350.5" y1="770.5156" y2="783.5156" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="1309.5" x2="1350.5" y1="783.5156" y2="783.5156" />
        <polygon fill="#A80036" points="1319.5,779.5156,1309.5,783.5156,1319.5,787.5156,1315.5,783.5156" style="stroke: #A80036; stroke-width: 1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="253" x="1315.5" y="765.4497">storeViolationReport(vr:ViolationReport)</text>
        <polygon fill="#A80036" points="917,808.6484,907,812.6484,917,816.6484,913,812.6484" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="911" x2="1302.5" y1="812.6484" y2="812.6484" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="923" y="807.5825">Violation report stored</text>
        <polygon fill="#A80036" points="653,865.4805,643,869.4805,653,873.4805,649,869.4805" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="647" x2="900" y1="869.4805" y2="869.4805" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="659" y="864.4146">forwardPositiveReply()</text>
        <path d="M911,825.6484 L911,895.6484 L1089,895.6484 L1089,835.6484 L1079,825.6484 L911,825.6484 " fill="#FBFB77" filter="url(#f6s4hd06mo947)" style="stroke: #A80036; stroke-width: 1.0;" />
        <path d="M1079,825.6484 L1079,835.6484 L1089,835.6484 L1079,825.6484 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="157" x="917" y="842.7153">Trigger for the "generate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="917" y="857.8481">tickets process". That</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="917" y="872.981">process starts in</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="917" y="888.1138">parallel</text>
        <polygon fill="#A80036" points="349,922.3125,339,926.3125,349,930.3125,345,926.3125" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="343" x2="636" y1="926.3125" y2="926.3125" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="355" y="921.2466">forwardPositiveReply()</text>
        <polygon fill="#A80036" points="78,951.4453,68,955.4453,78,959.4453,74,955.4453" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="72" x2="327" y1="955.4453" y2="955.4453" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="84" y="950.3794">violation report stored</text>
        <line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="33" x2="1580.5" y1="964.4453" y2="964.4453" /><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="244" x="38" y="974.6558">[ViolationReport refused by the dbms]</text>
        <polygon fill="#A80036" points="917,995.3828,907,999.3828,917,1003.3828,913,999.3828" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="911" x2="1302.5" y1="999.3828" y2="999.3828" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="923" y="994.3169">violation descarded</text>
        <polygon fill="#A80036" points="653,1024.5156,643,1028.5156,653,1032.5156,649,1028.5156" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="647" x2="900" y1="1028.5156" y2="1028.5156" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="659" y="1023.4497">processEnded()</text>
        <polygon fill="#A80036" points="349,1053.6484,339,1057.6484,349,1061.6484,345,1057.6484" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="343" x2="636" y1="1057.6484" y2="1057.6484" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="355" y="1052.5825">processEnded()</text>
        <polygon fill="#A80036" points="78,1082.7813,68,1086.7813,78,1090.7813,74,1086.7813" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0;" x1="72" x2="327" y1="1086.7813" y2="1086.7813" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="237" x="84" y="1081.7153">process ended with report descarded</text>
        <line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="1590.5" y1="1102.7813" y2="1102.7813" /><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="26" x="28" y="1112.9917">[no]</text>
        <polygon fill="#A80036" points="316,1133.7188,326,1137.7188,316,1141.7188,320,1137.7188" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="67" x2="322" y1="1137.7188" y2="1137.7188" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="16" x="74" y="1132.6528">no</text>
        <polygon fill="#A80036" points="620,1162.8516,630,1166.8516,620,1170.8516,624,1166.8516" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="338" x2="626" y1="1166.8516" y2="1166.8516" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="16" x="345" y="1161.7856">no</text>
        <polygon fill="#A80036" points="889,1191.9844,899,1195.9844,889,1199.9844,893,1195.9844" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="637" x2="895" y1="1195.9844" y2="1195.9844" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="16" x="644" y="1190.9185">no</text>
        <line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="1600.5" y1="1211.9844" y2="1211.9844" /><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="180" x="18" y="1222.1948">[OCR cannot read the plate]</text>
        <polygon fill="#A80036" points="1099,1242.9219,1089,1246.9219,1099,1250.9219,1095,1246.9219" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1093" x2="1233" y1="1246.9219" y2="1246.9219" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="1105" y="1241.856">Plate not recognized</text>
        <polygon fill="#A80036" points="917,1272.0547,907,1276.0547,917,1280.0547,913,1276.0547" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="911" x2="1082" y1="1276.0547" y2="1276.0547" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="923" y="1270.9888">Plate not recognizedt</text>
        <polygon fill="#A80036" points="653,1301.1875,643,1305.1875,653,1309.1875,649,1305.1875" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="647" x2="900" y1="1305.1875" y2="1305.1875" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="659" y="1300.1216">forwardError()</text>
        <polygon fill="#A80036" points="349,1330.3203,339,1334.3203,349,1338.3203,345,1334.3203" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="343" x2="636" y1="1334.3203" y2="1334.3203" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="355" y="1329.2544">forwardError()</text>
        <polygon fill="#A80036" points="78,1359.4531,68,1363.4531,78,1367.4531,74,1363.4531" style="stroke: #A80036; stroke-width: 1.0;" />
        <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="72" x2="327" y1="1363.4531" y2="1363.4531" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="84" y="1358.3872">Error, repeat the process</text>
        <!--
@startuml

title Report a violation

actor User as us
participant MobileApp as app
participant Router as r
participant "Report manager" as rm
participant "Picture manager" as pm
participant OCR as ocr
participant DBMS as db

activate us
us -> app ++: takePicture()
app -> app : insertMetadata(..)
app -> us : Ask violation type
us - -> app : Reply violation type
app -> r ++: forwardViolationReport(vr:ViolatinReport)
activate rm
r -> rm - -: handleReport(vr:ViolationReport)
rm -> pm - - : handlePicture(p:Picture)
activate pm
pm -> ocr - -: readPlate(p:Picture)

alt OCR reads the plate
  activate ocr
  ocr - -> pm - - : License plate
  activate pm
  pm - -> rm - -: License plate
  activate rm
  rm -> r - -: forwardRequest(licensePlate : String)
  activate r
  r -> app - -: askUserConfirmation(licensePlate : String)
  app -> us : ask user for confirmation

  alt yes
    us - -> app : yes
    app - -> r : yes
    activate r
    r - -> rm - -: yes
    activate rm
    rm -> db- - : storeRequest(vr:ViolationReport)
    activate db
    db -> db : equivalenceCheck(vr:ViolationReport)


    alt ViolationReport accepted by the dbms
      db -> db : storeViolationReport(vr:ViolationReport)
      db - -> rm - -: Violation report stored
      activate rm
      rm -> r - -: forwardPositiveReply()
      note right
        Trigger for the "generate
        tickets process". That
        process starts in
        parallel
      end note
      activate r
      r -> app - -: forwardPositiveReply()
      app -> us : violation report stored

    else ViolationReport refused by the dbms
      activate db
      db - -> rm - - : violation descarded
      activate rm
      rm -> r - -: processEnded()
      activate r
      r -> app - - : processEnded()
      app -> us : process ended with report descarded
    end

  else no
    us - -> app : no
    app - -> r : no
    activate r
    activate rm
    r - -> rm - -: no
    deactivate rm
  end

else OCR cannot read the plate
  ocr - -> pm: Plate not recognized
  activate ocr
  activate pm
  pm - -> rm - -: Plate not recognizedt
  deactivate ocr
  activate rm
  rm - -> r - -: forwardError()
  activate r
  r - -> app - - : forwardError()
  app - -> us : Error, repeat the process

end


@enduml

PlantUML version 1.2018.14(Fri Dec 21 17:33:16 CET 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.4+11-post-Ubuntu-1ubuntu218.04.3
Operating System: Linux
OS Version: 4.18.0-22-generic
Default Encoding: UTF-8
Language: en
Country: US
-->
    </g>
</svg>